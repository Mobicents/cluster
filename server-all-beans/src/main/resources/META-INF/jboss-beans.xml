<?xml version="1.0" encoding="UTF-8"?>

<deployment xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="urn:jboss:bean-deployer:2.0">

	<bean name="Mobicents.Cache" class="org.mobicents.cache.MobicentsCache">
	 	<constructor>
	    	<parameter><inject bean="jboss.cache:service=CacheManager"></inject></parameter>
          	<parameter class="java.lang.String">pessimistic-shared-repeatable</parameter>
     	</constructor>		
	</bean>

   	<!-- cluster member failover elector -->
   	
	<bean name="Mobicents.Cluster.DefaultElector" class="org.mobicents.cluster.election.SimpleSingletonElector" />
	
	<!-- cluster control -->
	
	<bean name="Mobicents.Cluster" class="org.mobicents.cluster.DefaultMobicentsCluster">
		<constructor>
			<parameter><inject bean="Mobicents.Cache"/></parameter>
			<parameter><inject bean="RealTransactionManager"/></parameter>
			<parameter><inject bean="Mobicents.Cluster.DefaultElector"/></parameter>
		</constructor>				
	</bean>
		
	   	
</deployment>
